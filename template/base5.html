<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">
    <title>Dashboard InnB Park Hotel</title>
    <!-- Bootstrap core CSS -->
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <link href="/static/css/dashboard1.css" rel="stylesheet">
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->

<!--     <link href="/static/css/ie10-viewport-bug-workaround.css" rel="stylesheet"> -->
    <link href="/static/css/jquery-ui.css" rel="stylesheet">
        <script src="/static/js/jquery-2.1.1.min.js">
</script>
<script src="/static/js/jquery.waypoints.min.js"></script>
<script src="/static/js/infinite.min.js"></script>
<!--       <script>window.jQuery || document.write('<script src="/static/js/jquery.min.js"><\/script>')</script> -->
    <script src="/static/js/jquery.tablesorter.min.js">
</script>

// <script>
//             alert('Website under maintenance. PLEASE DO NOT ADD BOOKINGS!!')
// </script>
<!-- <script src="/static/js/jquery-2.1.1.min.js">
</script> -->

<!--   <script>window.jQuery || document.write('<script src="/static/js/vendor/tablesorter.js"><\/script>')</script> -->




      <script>window.jQuery || document.write('<script src="/static/js/jquery.min.js"><\/script>')</script>
                <script type="text/javascript">
      $(function () {
                $('.datepicker').datepicker();
         });
        </script> 
<script>



function checktask(){
      $.ajax({
        url: 'https://innbparkhotel.com/pollapi/',
        data: {
        {% if user.get_username %}
          'user':'{{ user.get_username }}'
        {% endif %}
         },
        dataType: 'json',
        timeout: 2000,
        success: function (data) {
          console.log(data);
          if(data>0){
$("#alert1").css({"visibility":"visible"});
          }
        }
      });
}

setInterval(function(){ checktask(); }, 10000);



function closeclick(){

  $("#alert1").css({"visibility":"hidden"});
}


</script>

    <!-- Custom styles for this template -->
<!--     <link href="static/css/dashboard.css" rel="stylesheet"> -->

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
<!--     <script src="/static/js/ie-emulation-modes-warning.js"></script> -->


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
<body>
<script>
$(window).on('load', function () {      //Do the code in the {}s when the window has loaded 
  $(".loader").fadeOut("slow");  //Fade out the #loader div
});
</script>

<div class="loader">
<div id="fountainG">
  <div id="fountainG_1" class="fountainG"></div>
  <div id="fountainG_2" class="fountainG"></div>
  <div id="fountainG_3" class="fountainG"></div>
  <div id="fountainG_4" class="fountainG"></div>
  <div id="fountainG_5" class="fountainG"></div>
  <div id="fountainG_6" class="fountainG"></div>
  <div id="fountainG_7" class="fountainG"></div>
  <div id="fountainG_8" class="fountainG"></div>
</div>
</div>




<a href="https://www.innbparkhotel.com/whiteboard/" style="color:black">
<div id="alert1" style="position: absolute; left: 10px; width: 120px; bottom: 20px; color: rgb(178, 34, 34); background-color: rgb(255, 255, 255, 0.7); padding: 20px 32px 20px 20px; border: 1px solid rgb(178, 34, 34); visibility: hidden; overflow: hidden; border-radius: 5px; z-index: 1199;" id="alert">

<!-- 
<button href="javascript:void(0)" onclick="closeclick()" style="position: absolute; right: 5px; margin-top: 5px; top: 0px; color: rgb(178, 34, 34); padding: 0px 5px 5px; border: 0px solid rgb(178, 34, 34); visibility: visible; border-radius: 5px;" id="alertbutton2"> 
x
</button>
 -->

 New Task!

</div>
</a>






  
       <div class="container-fluid">
       <div class="row">
        <div class="col-sm-3 col-md-2 sidebar">
          <ul class="nav nav-sidebar">
            <li><a href="{% url 'detail' %}">Overview <span class="sr-only">(current)</span></a></li>
            <li><a href="{% url 'scomments' %}">Special Requests</a></li>
<!--             <li><a href="{% url 'srequestsf' %}">Add special requests</a></li>
 -->            <li><a href="{% url 'bookingdetail2' %}">Booking Details</a></li>
            <li><a href="{% url 'allbookings' %}">All Bookings</a></li>
                         <li><a href="{% url 'manualbook' %}">Manual Booking</a></li>    
                                                  <li><a href="{% url 'portal3' %}">Checkout Deposit</a></li>  
<!--             <li><a href="/qroom">Booking by rooms</a></li>
            <li><a href="/qdate">Rooms by date</a></li> -->
          </ul>
          <ul class="nav nav-sidebar">
            <li><a href="{% url 'customerall' %}">All Registered Customers</a></li>
            <li><a href="{% url 'roomsbackend' %}">Rooms</a></li>
            <li><a href="{% url 'roomtype' %}">Room Type</a></li>
                           <li><a href="{% url 'variablepricing1' %}">Room Pricing</a></li>       
                      <li><a href="{% url 'maintenance' %}">Maintenance</a></li>
<!--             <li><a href="{% url 'pricing' %}">Pricing Rules</a></li> -->

            <li><a href="{% url 'feedbackbackend' %}">Feedback</a></li>
            <li><a href="{% url 'addpromo' %}">Promo Code</a></li> 
           <li><a href="{% url 'eventsback' %}">Events</a></li>             
<!--             <li><a href="">Another nav item</a></li>
            <li><a href="">More navigation</a></li> -->
          </ul>
          <ul class="nav nav-sidebar">
            <li><a href="{% url 'front' %}">Front Page</a></li>
                        <li><a href="{% url 'pagesout' %}">Blog Pages</a></li>
                        <li><a href="{% url 'upload_image' %}">Media Library</a></li>

<!--             <li><a href="">One more nav</a></li>
            <li><a href="">Another nav item</a></li> -->
          </ul>







<!-- 

          <ul class="nav nav-sidebar">
            <li><a href="">Admin</a></li>


            <li data-toggle="collapse" data-target="#products" class="collapsed">
                <a href="#"> UI Elements  <i class="arrow-down"></i></a>
 -->





<!--                             <ul id="nav223">
              <li>test</li>
            </ul> -->

            <!-- </li>


            <ul class="sub-menu collapse nav223" id="products">
   
                <li><a href="#">General</a></li>
                                <li><a href="#">General</a></li>
                                                <li><a href="#">General</a></li>


            </ul> -->
<!-- 

            <ul id="nav223">
              <li>test</li>
            </ul> -->




<!--             <li><a href="">One more nav</a></li>
            <li><a href="">Another nav item</a></li> -->
          <!-- </ul> -->






                    <ul class="nav nav-sidebar">
            <li><a href="{% url 'dateform' %}">Home</a></li>
            <li><a href="{% url 'logout_view' %}">Logout</a></li>
<!--             <li><a href="">One more nav</a></li>
            <li><a href="">Another nav item</a></li> -->
          </ul>
        </div> 
                </div> 


  {% block content %}
  

  {% endblock %}


          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
        <script src="/static/js/jquery-ui.js"></script>
    <script src="/static/js/jquery.ui.datepicker.validation.js"></script>    
   
<!--     <script>window.jQuery || document.write('<script src="/static/js/vendor/jquery.min.js"><\/script>')</script> -->
    <script src="/static/js/bootstrap.min.js"></script>
    <!-- Just to make our placeholder images work. Don't actually copy the next line! -->
    <script src="/static/js/holder.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<!--     <script src="/static/js/ie10-viewport-bug-workaround.js"></script> -->
<!--   <script>window.jQuery || document.write('<script src="/static/js/jquery.min.js"><\/script>')</script> -->
          
      <script>



$("#breakfast").change(function() {
 var break1 = $('#break1').val();

            var breakfast = document.getElementById('breakfast');
        if (breakfast.checked){
      var breakcode= 1;
  }else{
         var breakcode= 0;
  }
 

            var bdc = document.getElementById('bdc');
        if (bdc.checked){
      var bdce= 1;
  }else{
         var bdce= 0;
  }


      var roomtype = $('#roomtypes').val();
      var cind1 = $('#cind').val();
      var cind2 = cind1.split("-");
    var cind = new Date(cind2[2], cind2[1] - 1, cind2[0]);
    var dis = $('#selectId2').val();   
      // var parts = date.split("/");
      //      return new Date(parts[2], parts[1] - 1, parts[0]);
      var coutd1 = $('#coutd').val();
            var coutd2 = coutd1.split("-");
    var coutd = new Date(coutd2[2], coutd2[1] - 1, coutd2[0]);
                  console.log(coutd);
      
      $.ajax({
        url: 'https://innbparkhotel.com/validate_price/',
        data: {
          'roomtype': roomtype,
          'break1':break1,
          'cind':cind1,
          'coutd':coutd1,
                    'dis':dis,
                    'breakcode':breakcode,
                    'bdce':bdce
        },
        dataType: 'json',
        success: function (data) {
          console.log(data);
$('#pricet').text(data.price);
          // // var option = $('<option></option>').attr("value", "option value").text("Text");
          // $('#selectId').append($('<option>').text(obj.room_number).attr('value', obj.room_number));

// $("#selectId").html(option);

        }
      });




});

$("#bdc").change(function() {
 var break1 = $('#break1').val();

            var breakfast = document.getElementById('breakfast');
        if (breakfast.checked){
      var breakcode= 1;
  }else{
         var breakcode= 0;
  }
 

            var bdc = document.getElementById('bdc');
        if (bdc.checked){
      var bdce= 1;
  }else{
         var bdce= 0;
  }


      var roomtype = $('#roomtypes').val();
      var cind1 = $('#cind').val();
      var cind2 = cind1.split("-");
    var cind = new Date(cind2[2], cind2[1] - 1, cind2[0]);
    var dis = $('#selectId2').val();   
      // var parts = date.split("/");
      //      return new Date(parts[2], parts[1] - 1, parts[0]);
      var coutd1 = $('#coutd').val();
            var coutd2 = coutd1.split("-");
    var coutd = new Date(coutd2[2], coutd2[1] - 1, coutd2[0]);
                  console.log(coutd);
      
      $.ajax({
        url: 'https://innbparkhotel.com/validate_price/',
        data: {
          'roomtype': roomtype,
          'break1':break1,
          'cind':cind1,
          'coutd':coutd1,
                    'dis':dis,
                    'breakcode':breakcode,
                    'bdce':bdce
        },
        dataType: 'json',
        success: function (data) {
          console.log(data);
$('#pricet').text(data.price);
          // // var option = $('<option></option>').attr("value", "option value").text("Text");
          // $('#selectId').append($('<option>').text(obj.room_number).attr('value', obj.room_number));

// $("#selectId").html(option);

        }
      });




});








    $("#roomtypes").change(function () {
      var roomtype = $(this).val();
      var cind1 = $('#cind').val();
      var cind2 = cind1.split("-");      
      var cind = new Date(cind2[2], cind2[1] - 1, cind2[0]);
      var breakfast = document.getElementById('breakfast');



            var bdc = document.getElementById('bdc');
        if (bdc.checked){
      var bdce= 1;
  }else{
         var bdce= 0;
  }


        if (breakfast.checked){
      var breakcode= 1;
  }else{
         var breakcode= 0;
  }

      var break1 = $('#break1').val();

      // var parts = date.split("/");
      //      return new Date(parts[2], parts[1] - 1, parts[0]);
      var coutd1 = $('#coutd').val();
            var coutd2 = coutd1.split("-");
    var coutd = new Date(coutd2[2], coutd2[1] - 1, coutd2[0]);
    var dis = $('#selectId2').val();
if(cind < coutd){
      $.ajax({
        url: 'https://innbparkhotel.com/validate_rooms/',
        data: {
          'roomtype': roomtype,
          'cind':cind1,
          'coutd':coutd1,

        },
        dataType: 'json',
        success: function (data) {
           if ( data.roomavailable.length == 0 && roomtype != 22 && roomtype != 24) {

          $('#selectId').empty();


            alert('No rooms available')
           }else{



          console.log(data);
          $('#selectId').empty();
          $('#selectId').append($('<option>').text("Select"));
          $.each(data.roomavailable, function(i, obj){
          // // var option = $('<option></option>').attr("value", "option value").text("Text");
          $('#selectId').append($('<option>').text(obj.room_number).attr('value', obj.room_number));
            });
// $("#selectId").html(option);
}
        }
      });


      $.ajax({
        url: 'https://innbparkhotel.com/validate_price/',
        data: {
          'roomtype': roomtype,
          'cind':cind1,
          'coutd':coutd1,
          'break1':break1,
          'breakcode':breakcode,
                              'bdce':bdce,
                    'dis':dis,
        },
        dataType: 'json',
        success: function (data) {
          console.log(data);
$('#pricet').text(data.price);
// $("#selectId").html(option);

        }
      });






    }

    else{

      if( cind1==""){
        console.log("nuthin")
      }else{
      alert("Check date");}
    }
    });


    $("#cind").change(function () {


            var bdc = document.getElementById('bdc');
        if (bdc.checked){
      var bdce= 1;
  }else{
         var bdce= 0;
  }



      var break1 = $('#break1').val();
            var breakfast = document.getElementById('breakfast');
        if (breakfast.checked){
      var breakcode= 1;
  }else{
         var breakcode= 0;
  }
      var roomtype = $('#roomtypes').val();
      var cind1 = $('#cind').val();
            var cind2 = cind1.split("-");
    var cind = new Date(cind2[2], cind2[1] - 1, cind2[0]);
    var dis = $('#selectId2').val();
      // var parts = date.split("/");
      //      return new Date(parts[2], parts[1] - 1, parts[0]);
      var coutd1 = $('#coutd').val();
            var coutd2 = coutd1.split("-");
    var coutd = new Date(coutd2[2], coutd2[1] - 1, coutd2[0]);
if(cind < coutd){
      $.ajax({
        url: 'https://innbparkhotel.com/validate_rooms/',
        data: {
          'roomtype': roomtype,
          'cind':cind1,
          'coutd':coutd1,
        },
        dataType: 'json',
        success: function (data) {


 
                     if ( data.roomavailable.length == 0 && roomtype != 22 && roomtype != 24) {
            alert('No rooms available')
                      $('#selectId').empty();
           }else{
          console.log(data);
          $('#selectId').empty();
          $('#selectId').append($('<option>').text("Select"));
          $.each(data.roomavailable, function(i, obj){
          // // var option = $('<option></option>').attr("value", "option value").text("Text");
          $('#selectId').append($('<option>').text(obj.room_number).attr('value', obj.room_number));
            });
// $("#selectId").html(option);

        }
      }
      });





      $.ajax({
        url: 'https://innbparkhotel.com/validate_price/',
        data: {
          'roomtype': roomtype,
          'break1':break1,
          'breakcode':breakcode,
          'cind':cind1,
                                        'bdce':bdce,
          'coutd':coutd1,
                    'dis':dis,
        },
        dataType: 'json',
        success: function (data) {
          console.log(data);
$('#pricet').text(data.price);
// $("#selectId").html(option);

        }
      });



          }

    else{
      if( coutd1==""){
        console.log('nuthin')
      }else{
      alert("Check date");}

    }

    });


    $("#coutd").change(function () {


            var bdc = document.getElementById('bdc');
        if (bdc.checked){
      var bdce= 1;
  }else{
         var bdce= 0;
  }




            var breakfast = document.getElementById('breakfast');
        if (breakfast.checked){
      var breakcode= 1;
  }else{
         var breakcode= 0;
  }
      var break1 = $('#break1').val();    
      var roomtype = $('#roomtypes').val();
      var cind1 = $('#cind').val();
      var cind2 = cind1.split("-");
    var cind = new Date(cind2[2], cind2[1] - 1, cind2[0]);
    var dis = $('#selectId2').val();   
      // var parts = date.split("/");
      //      return new Date(parts[2], parts[1] - 1, parts[0]);
      var coutd1 = $('#coutd').val();
            var coutd2 = coutd1.split("-");
    var coutd = new Date(coutd2[2], coutd2[1] - 1, coutd2[0]);
                  console.log(coutd)
if(cind < coutd){
      $.ajax({
        url: 'https://innbparkhotel.com/validate_rooms/',
        data: {
          'roomtype': roomtype,
          'cind':cind1,
          'coutd':coutd1,
        },
        dataType: 'json',
        success: function (data) {

           if ( data.roomavailable.length == 0 && roomtype != 22 && roomtype != 24) {
            alert('No rooms available')
                      $('#selectId').empty();
           }else{
          console.log(data);
          $('#selectId').empty();
          $('#selectId').append($('<option>').text("Select"));
          $.each(data.roomavailable, function(i, obj){
          // // var option = $('<option></option>').attr("value", "option value").text("Text");
          $('#selectId').append($('<option>').text(obj.room_number).attr('value', obj.room_number));
            });
// $("#selectId").html(option);

}
        }
      });



      $.ajax({
        url: 'https://innbparkhotel.com/validate_price/',
        data: {
          'roomtype': roomtype,
          'break1':break1,
          'breakcode':breakcode,
          'cind':cind1,
          'coutd':coutd1,
                                        'bdce':bdce,
                    'dis':dis,
        },
        dataType: 'json',
        success: function (data) {
          console.log(data);
$('#pricet').text(data.price);
          // // var option = $('<option></option>').attr("value", "option value").text("Text");
          // $('#selectId').append($('<option>').text(obj.room_number).attr('value', obj.room_number));

// $("#selectId").html(option);

        }
      });






    }

    else{
      if( cind1==""){
        console.log('nuthin')
      }else{
      alert("Check date");}
    }

    });


$("#selectId2").change(function () {
      var break1 = $('#break1').val();

            var breakfast = document.getElementById('breakfast');
        if (breakfast.checked){
      var breakcode= 1;
  }else{
         var breakcode= 0;
  }
 
            var bdc = document.getElementById('bdc');
        if (bdc.checked){
      var bdce= 1;
  }else{
         var bdce= 0;
  }
      var roomtype = $('#roomtypes').val();
      var cind1 = $('#cind').val();
      var cind2 = cind1.split("-");
    var cind = new Date(cind2[2], cind2[1] - 1, cind2[0]);
    var dis = $('#selectId2').val();   
      // var parts = date.split("/");
      //      return new Date(parts[2], parts[1] - 1, parts[0]);
      var coutd1 = $('#coutd').val();
            var coutd2 = coutd1.split("-");
    var coutd = new Date(coutd2[2], coutd2[1] - 1, coutd2[0]);
                  console.log(coutd);
      
      $.ajax({
        url: 'https://innbparkhotel.com/validate_price/',
        data: {
          'roomtype': roomtype,
          'break1':break1,
          'breakcode':breakcode,
                                        'bdce':bdce,
          'cind':cind1,
          'coutd':coutd1,
                    'dis':dis,
        },
        dataType: 'json',
        success: function (data) {
          console.log(data);
$('#pricet').text(data.price);
          // // var option = $('<option></option>').attr("value", "option value").text("Text");
          // $('#selectId').append($('<option>').text(obj.room_number).attr('value', obj.room_number));

// $("#selectId").html(option);

        }
      });




});



$("#break1").change(function () {




            var bdc = document.getElementById('bdc');
        if (bdc.checked){
      var bdce= 1;
  }else{
         var bdce= 0;
  }
      var break1 = $('#break1').val();

            var breakfast = document.getElementById('breakfast');
        if (breakfast.checked){
      var breakcode= 1;
  }else{
         var breakcode= 0;
  }
 
      var roomtype = $('#roomtypes').val();
      var cind1 = $('#cind').val();
      var cind2 = cind1.split("-");
    var cind = new Date(cind2[2], cind2[1] - 1, cind2[0]);
    var dis = $('#selectId2').val();   
      // var parts = date.split("/");
      //      return new Date(parts[2], parts[1] - 1, parts[0]);
      var coutd1 = $('#coutd').val();
            var coutd2 = coutd1.split("-");
    var coutd = new Date(coutd2[2], coutd2[1] - 1, coutd2[0]);
                  console.log(coutd);
      
      $.ajax({
        url: 'https://innbparkhotel.com/validate_price/',
        data: {
          'roomtype': roomtype,
          'break1':break1,
          'cind':cind1,
          'coutd':coutd1,
                    'dis':dis,
                    'breakcode':breakcode,
                                                  'bdce':bdce,
        },
        dataType: 'json',
        success: function (data) {
          console.log(data);
$('#pricet').text(data.price);
          // // var option = $('<option></option>').attr("value", "option value").text("Text");
          // $('#selectId').append($('<option>').text(obj.room_number).attr('value', obj.room_number));

// $("#selectId").html(option);

        }
      });




});























    $("#coutd1").change(function () {
      var dis1 = $('#dddd').val();
      var dis = parseInt(dis1 *1000)/100000;
      var roomtype = $('#roomtypes2').val();
      

      var cind1 = $('#cind1').val();
      var cind2 = cind1.split("-");      
      var cind = new Date(cind2[2], cind2[1] - 1, cind2[0]);


      var coutd1 = $(this).val();
      var coutd2 = coutd1.split("-");
      var coutd = new Date(coutd2[2], coutd2[1] - 1, coutd2[0]);

      if(cind < coutd){

      $.ajax({
        url: 'https://innbparkhotel.com/validate_rooms/',
        data: {
          'roomtype': roomtype,
          'cind':cind1,
          'coutd':coutd1,
        },

        dataType: 'json',

        success: function (data) {

           if ( data.roomavailable.length == 0 && roomtype != 22 && roomtype != 24) {
            alert('No rooms available')
                      $('#selectId3').empty();
           }else{



          console.log(data);
          $('#selectId3').empty();
          $('#selectId3').append($('<option>').text("Select"));
          $.each(data.roomavailable, function(i, obj){
          // // var option = $('<option></option>').attr("value", "option value").text("Text");
          $('#selectId3').append($('<option>').text(obj.room_number).attr('value', obj.room_number));
            });
// $("#selectId").html(option);
}
        }
      });


      $.ajax({
        url: 'https://innbparkhotel.com/validate_price1/',
        data: {
          'roomtype': roomtype,
          'cind':cind1,
          'coutd':coutd1,
          'roomtype2':"{{price1}}",
          'dis':dis,
          'dis2':"{{per}}",
          'mol':"{{mol}}"
        },
        dataType: 'json',
        success: function (data) {
          console.log(data);
$('#pricet').text(data.price);
// $("#selectId").html(option);

        }
      });






    }

    else{

      if( cind1==""){
        console.log("nuthin")
      }else{
      alert("Check date");}
    }
    });















    $("#cind1").change(function () {
      var dis1 = $('#dddd').val();
      var dis = parseInt(dis1 *1000)/100000;
      var roomtype = $("#roomtypes2").val();
      

      var cind1 = $(this).val();
      var cind2 = cind1.split("-");      
      var cind = new Date(cind2[2], cind2[1] - 1, cind2[0]);


      var coutd1 = $('#coutd1').val();
      var coutd2 = coutd1.split("-");
      var coutd = new Date(coutd2[2], coutd2[1] - 1, coutd2[0]);

      if(cind < coutd){

      $.ajax({
        url: 'https://innbparkhotel.com/validate_rooms/',
        data: {
          'roomtype': roomtype,
          'cind':cind1,
          'coutd':coutd1,
        },

        dataType: 'json',

        success: function (data) {

           if ( data.roomavailable.length == 0 && roomtype != 22 && roomtype != 24) {
            alert('No rooms available')
                      $('#selectId3').empty();
           }else{



          console.log(data);
          $('#selectId3').empty();
          $('#selectId3').append($('<option>').text("Select"));
          $.each(data.roomavailable, function(i, obj){
          // // var option = $('<option></option>').attr("value", "option value").text("Text");
          $('#selectId3').append($('<option>').text(obj.room_number).attr('value', obj.room_number));
            });
// $("#selectId").html(option);
}
        }
      });


      $.ajax({
        url: 'https://innbparkhotel.com/validate_price1/',
        data: {
          'roomtype': roomtype,
          'cind':cind1,
          'coutd':coutd1,
          'roomtype2':"{{price1}}",
          'dis':dis,
                    'dis2':"{{per}}",
          'mol':"{{mol}}"
        },
        dataType: 'json',
        success: function (data) {
          console.log(data);
$('#pricet').text(data.price);
// $("#selectId").html(option);

        }
      });






    }

    else{

      if( cind1==""){
        console.log("nuthin")
      }else{
      alert("Check date");}
    }
    });







    $("#roomtypes2").change(function () {
      var dis1 = $('#dddd').val();
      var dis = parseInt(dis1 *1000)/100000;
      var roomtype = $(this).val();
      

      var cind1 = $('#cind1').val();
      var cind2 = cind1.split("-");      
      var cind = new Date(cind2[2], cind2[1] - 1, cind2[0]);


      var coutd1 = $('#coutd1').val();
      var coutd2 = coutd1.split("-");
      var coutd = new Date(coutd2[2], coutd2[1] - 1, coutd2[0]);

      if(cind < coutd){

      $.ajax({
        url: 'https://innbparkhotel.com/validate_rooms/',
        data: {
          'roomtype': roomtype,
          'cind':cind1,
          'coutd':coutd1,
        },

        dataType: 'json',

        success: function (data) {

           if ( data.roomavailable.length == 0 && roomtype != 22 && roomtype != 24) {
            alert('No rooms available')
                      $('#selectId3').empty();
           }else{



          console.log(data);
          $('#selectId3').empty();
          $('#selectId3').append($('<option>').text("Select"));
          $.each(data.roomavailable, function(i, obj){
          // // var option = $('<option></option>').attr("value", "option value").text("Text");
          $('#selectId3').append($('<option>').text(obj.room_number).attr('value', obj.room_number));
            });
// $("#selectId").html(option);
}
        }
      });


      $.ajax({
        url: 'https://innbparkhotel.com/validate_price1/',
        data: {
          'roomtype': roomtype,
          'cind':cind1,
          'coutd':coutd1,
          'roomtype2':"{{price1}}",
          'dis':dis,
                    'dis2':"{{per}}",
          'mol':"{{mol}}"
        },
        dataType: 'json',
        success: function (data) {
          console.log(data);
$('#pricet').text(data.price);
// $("#selectId").html(option);

        }
      });






    }

    else{

      if( cind1==""){
        console.log("nuthin")
      }else{
      alert("Check date");}
    }
    });













$("#dddd").change(function () {
      var dis1 = $(this).val();
      var dis = parseInt(dis1 *1000)/100000;
      var roomtype = $("#roomtypes2").val();
      

      var cind1 = $('#cind1').val();
      var cind2 = cind1.split("-");      
      var cind = new Date(cind2[2], cind2[1] - 1, cind2[0]);


      var coutd1 = $('#coutd1').val();
      var coutd2 = coutd1.split("-");
      var coutd = new Date(coutd2[2], coutd2[1] - 1, coutd2[0]);

      if(cind < coutd){

      $.ajax({
        url: 'https://innbparkhotel.com/validate_rooms/',
        data: {
          'roomtype': roomtype,
          'cind':cind1,
          'coutd':coutd1,
        },

        dataType: 'json',

        success: function (data) {

           if ( data.roomavailable.length == 0 && roomtype != 22 && roomtype != 24) {
            alert('No rooms available')
                      $('#selectId3').empty();

           }else{



          console.log(data);
          $('#selectId3').empty();
          $('#selectId3').append($('<option>').text("Select"));
          $.each(data.roomavailable, function(i, obj){
          // // var option = $('<option></option>').attr("value", "option value").text("Text");
          $('#selectId3').append($('<option>').text(obj.room_number).attr('value', obj.room_number));
            });
// $("#selectId").html(option);
}
        }
      });


      $.ajax({
        url: 'https://innbparkhotel.com/validate_price1/',
        data: {
          'roomtype': roomtype,
          'cind':cind1,
          'coutd':coutd1,
          'roomtype2':"{{price1}}",
          'dis':dis,
          'dis2':"{{per}}",
          'mol':"{{mol}}"
        },
        dataType: 'json',
        success: function (data) {
          console.log(data);
$('#pricet').text(data.price);
// $("#selectId").html(option);

        }
      });






    }

    else{

      if( cind1==""){
        console.log("nuthin")
      }else{
      alert("Check date");}
    }
    });















//     $("#roomtypes2").change(function () {
//       var roomtype = $(this).val();

//       $.ajax({
//         url: 'http://innbparkhotel.com/validate_rooms/',
//         data: {
//           'roomtype': roomtype,
//           'cind':"{{qdate1}}",
//           'coutd':"{{qout1}}",

//         },
//         dataType: 'json',
//         success: function (data) {
//            if ( data.roomavailable.length == 0 && roomtype != 22 && roomtype != 24) {
//             alert('No rooms available')
//            }else{



//           console.log(data);
//           $('#selectId3').empty();
//           $('#selectId3').append($('<option>').text("Select"));
//           $.each(data.roomavailable, function(i, obj){
//           // // var option = $('<option></option>').attr("value", "option value").text("Text");
//           $('#selectId3').append($('<option>').text(obj.room_number).attr('value', obj.room_number));
//             });
// // $("#selectId").html(option);
// }
//         }
//       });




//         });






</script>


{% if nasil is None %}
<script>
$("#refer").change(function () {
      var refer = $(this).val();

      if(refer == "Traveloka"){
        $('#asdpaid').prop('checked', true);
                $('#bdc').prop('checked', false);
        }

      else if(refer == "Agoda"){
                $('#asdpaid').prop('checked', true);
                                $('#bdc').prop('checked', false);
        }
      
      else if(refer == "bookings.com"){
        $('#asdpaid').prop('checked', false);
                        $('#bdc').prop('checked', false);
        }
      else if(refer == "Revato"){
        $('#asdpaid').prop('checked', false);
                        $('#bdc').prop('checked', false);
        }
              else if(refer == "DOTW"){
        $('#asdpaid').prop('checked', false);
                        $('#bdc').prop('checked', false);
        }
      else if(refer == "Expedia"){
        $('#asdpaid').prop('checked', false);
                        $('#bdc').prop('checked', false);
        }
      else if(refer == "Walk-in"){
        $('#asdpaid').prop('checked', false);
        }
      else if(refer == "Ctrip"){
        $('#asdpaid').prop('checked', true);
        $('#bdc').prop('checked', false);
        }
              else if(refer == "Mikitravel"){
        $('#asdpaid').prop('checked', false);
        $('#bdc').prop('checked', false);
        }
              else if(refer == "Asiatravel"){
        $('#asdpaid').prop('checked', false);
        $('#bdc').prop('checked', false);
        }


      $.ajax({
        url: 'https://innbparkhotel.com/validate_dc/',
        data: {
          'referral': refer,
        },
        dataType: 'json',
        success: function (data) {
          console.log(data);
          $('#selectId2').empty();
          $('#selectId2').append($('<option>').text("Select"));
          $.each(data.discount, function(i, obj){
          // // var option = $('<option></option>').attr("value", "option value").text("Text");
          $('#selectId2').append($('<option>').text(obj.discount).attr('value', obj.v));
            });
// $("#selectId").html(option);

        }
      });






    });

</script>
{% else %}
<script>
  $(document).ready(function() {
      $.ajax({
        url: 'https://innbparkhotel.com/validate_dc/',
        data: {
          'referral': "{{nasil}}",
        },
        dataType: 'json',
        success: function (data) {
          console.log(data);
          $('#selectId2').empty();
          $('#selectId2').append($('<option>').text("Select"));
          $.each(data.discount, function(i, obj){
          // // var option = $('<option></option>').attr("value", "option value").text("Text");
          $('#selectId2').append($('<option>').text(obj.discount).attr('value', obj.v));
            });
// $("#selectId").html(option);

        }
      });
  });
{% endif %}

























  </script>
  </body>


</html>